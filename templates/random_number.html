<!DOCTYPE html>
<html>
<head>
    <title>Random Number to French Words Converter</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <h1 id="translated-num"></h1>
    <audio controls>
        <source src="/static/translated_number.mp3?{{ cache_buster }}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    <form id="guess-form">
        <label for="guess">Enter your guess:</label><br>
        <input type="number" id="guess" name="guess" min="1" max="100"><br>
        <input type="submit" value="Submit">
    </form>
    <p id="message"></p>
    <button onclick="location.reload();">Refresh</button>
    <button id="reveal-btn">Reveal</button>
    <script>
    $(document).ready(function(){
      $("#guess-form").on('submit', function(e){
        e.preventDefault();
        $.ajax({
          url: '/',
          data: $('form').serialize(),
          type: 'POST',
          success: function(response){
            $("#message").text(response.result);
            if (response.translated_num) {
              $("#translated-num").text("Random Number: " + response.translated_num);
            }
          },
          error: function(error){
            console.log(error);
          }
        });
      });
      $("#reveal-btn").on('click', function(){
        $.ajax({
          url: '/reveal',
          type: 'GET',
          success: function(response){
            $("#translated-num").text("Random Number: " + response.translated_num);
          },
          error: function(error){
            console.log(error);
          }
        });
      });
    });
    </script>
</body>
</html>
